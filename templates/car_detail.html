{% extends "base.html" %}
{% block title %}{{ car.title }}{% endblock %}
{% block content %}
<div class="detail">
  <!-- LEFT: images -->
  <div class="detail-gallery">
    <img id="mainImage"
         class="main-image"
         src="{{ car.image_url or url_for('static', filename='img/placeholder.svg') }}"
         alt="{{ car.title }}">

    {% if car.images %}
    <div class="thumbs">
      {% for img in car.images[:5] %}
        <img src="{{ img.url }}" alt="thumb"
             onclick="document.getElementById('mainImage').src=this.src">
      {% endfor %}
    </div>
    {% endif %}
  </div>

  <!-- RIGHT: details -->
  <div class="detail-info">
    <h1>{{ car.title }}</h1>
    <p class="price big">à§³ {{ "{:,}".format(car.price or 0) }}</p>
    <ul class="specs">
      <li><b>Make:</b> {{ car.make }}</li>
      <li><b>Model:</b> {{ car.model }}</li>
      <li><b>Year:</b> {{ car.year }}</li>
      <li><b>Mileage:</b> {{ car.mileage_km }} km</li>
      <li><b>Fuel:</b> {{ car.fuel_type }}</li>
      <li><b>Transmission:</b> {{ car.transmission }}</li>
      <li><b>Body:</b> {{ car.body_type }}</li>
      <li><b>Color:</b> {{ car.color }}</li>
      <li><b>Location:</b> {{ car.location }}</li>
    </ul>
    <p>{{ car.description }}</p>

    <h3>Contact about this car</h3>
    <form action="{{ url_for('inquire', car_id=car.id) }}" method="post" class="contact-form">
      <div class="grid-2">
        <input name="name" placeholder="Your name" required>
        <input name="email" placeholder="Email">
      </div>
      <div class="grid-2">
        <input name="phone" placeholder="Phone">
        <input placeholder="Subject" value="Inquiry: {{car.title}}" disabled>
      </div>
      <textarea name="message" rows="4" placeholder="Your message..." required></textarea>
      <button>Send Inquiry</button>
    </form>
  </div>
</div>
{% endblock %}

